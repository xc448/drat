<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Build model-specific database — buildDatabase • PanelPRO</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Build model-specific database — buildDatabase"><meta property="og:description" content="Build a database of parameters for only the genes and cancers in the model.
The genes and cancers are taken from the model specification model_spec
or user-supplied vectors of genes and cancers. Allele frequencies, risk
modifiers, and the net cancer/death by other causes penetrances for
carriers are subsetted directly from the master database, ppd. The crude
cancer penetrances for carriers are calculated from the net cancer
penetrances for carriers and the penetrances for death by other causes. The
noncarrier cancer and death by other causes penetrances are calculated from
the carrier penetrances and the SEER penetrances."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PanelPRO</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/building-pedigrees.html">Building PanelPRO Pedigrees</a>
    </li>
    <li>
      <a href="../articles/rcpp-functions.html">Rcpp Functions</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Build model-specific database</h1>
    
    <div class="hidden name"><code>buildDatabase.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Build a database of parameters for only the genes and cancers in the model.
The genes and cancers are taken from the model specification <code>model_spec</code>
or user-supplied vectors of <code>genes</code> and <code>cancers</code>. Allele frequencies, risk
modifiers, and the net cancer/death by other causes penetrances for
carriers are subsetted directly from the master database, <code>ppd</code>. The crude
cancer penetrances for carriers are calculated from the net cancer
penetrances for carriers and the penetrances for death by other causes. The
noncarrier cancer and death by other causes penetrances are calculated from
the carrier penetrances and the SEER penetrances.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">buildDatabase</span><span class="op">(</span></span>
<span>  model_spec <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ppd <span class="op">=</span> <span class="fu">PanelPRO</span><span class="fu">::</span><span class="va"><a href="PanelPRODatabase.html">PanelPRODatabase</a></span>,</span>
<span>  genes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cancers <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>model_spec</dt>
<dd><p>One of the following character strings indicating a
pre-specified model: <code>"BRCAPRO"</code>, <code>"BRCAPRO5"</code>, <code>"BRCAPRO6"</code>, <code>"MMRPRO"</code>,
<code>"PanPRO11"</code>, and <code>"PanPRO22"</code>. See <code>PanelPRO:::MODELPARAMS</code> for more
information. Either <code>model_spec</code> or <code>genes</code> and <code>cancers</code> should be
specified by the user. When both input types are supplied, the input from
<code>genes</code> and <code>cancers</code> will take precedence. The default is <code>NULL</code>, for no
model specified.</p></dd>


<dt>ppd</dt>
<dd><p>A structured list providing the parameters of the model. The
default is <code><a href="PanelPRODatabase.html">PanelPRODatabase</a></code>. Users who wish to provide their
own model parameters should supply a list with the same structure as
<code>PanelPRODatabase</code>.</p></dd>


<dt>genes</dt>
<dd><p>A character vector of the genes of interest. The default is
<code>NULL</code>. Available options are listed in <code>PanelPRO:::GENE_TYPES</code>. Either
<code>model_spec</code> or <code>genes</code> and <code>cancers</code> should be specified by the user. When
both input types are supplied, the input from <code>genes</code> and <code>cancers</code> will
take precedence. It is considered valid to specify no genes in <code>genes</code> as
long as at least one cancer is specified in <code>cancers</code>.</p></dd>


<dt>cancers</dt>
<dd><p>A character vector of the cancers of interest. Available
options are listed in <code>PanelPRO:::CANCER_TYPES</code>. The default is <code>NULL</code>.
Either <code>model_spec</code> or <code>genes</code> and <code>cancers</code> should be specified by the
user. When both input types are supplied, the input from <code>genes</code> and
<code>cancers</code> will take precedence. It is considered valid to specify no cancers
in <code>cancers</code> as long as at least one gene is specified in <code>genes</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list of 7 elements containing the model parameters:</p><ul><li><p><code>af</code>: Allele frequencies for the genes. Can be subsetted by ethnicity.</p></li>
<li><p><code>penet</code>: Cancer penetrances, split into <code>penet_c</code> for mutation carriers,
<code>penet_nc</code> for noncarriers and <code>penet_cbc</code> for contralateral breast cancer
penetrances for carriers and noncarriers. <code>penet_c</code> and <code>penet_nc</code> can be
subset by cancer, gene, race, sex, age, and type of penetrance (net or
crude). <code>penet_cbc</code> is a list of two arrays, <code>cbc_noncarrier</code> for
female non-carriers and <code>cbc_carrier</code> for carriers of any sex. The CBC
non-carrier array can be subsetted by gene, age of first breast cancer, type
of first breast cancer, if first degree relatives had breast cancer, ER
result, age category at first child birth, if anti-estrogen therapy was used
to treat the first breast cancer, history of high risk preneoplasia, breast
density, net or crude penetrance, and age. The CBC carrier array can be
subsetted by gene, sex, age of first breast cancer, net or crude penetrance,
and age.</p></li>
<li><p><code>riskmod</code>: Information for interventions, such as mastectomies,
oophorectomies, and hysterectomies, that impact the cancer penetrances. Can
be subsetted by cancer, gene, intervention, sex, age of intervention, and
data type (relative risk or hazard ratio).</p></li>
<li><p><code>doc</code>: Probability of dying of causes other than the cancer of interest,
split into <code>doc_c</code> for mutation carriers and <code>doc_nc</code> for noncarriers. Each
can be subsetted by cancer, gene, race, sex, and age.</p></li>
<li><p><code>germline</code>: Sensitivity and specificity for germline testing, which can be
used to modify the likelihood.</p></li>
<li><p><code>biomarker</code>: Information on tumor biomarker testing, which can be used to
modify the likelihood.</p></li>
<li><p><code>MS</code>: List of genes and cancers specified by the model.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">brcadb1</span> <span class="op">&lt;-</span> <span class="fu">buildDatabase</span><span class="op">(</span>model_spec <span class="op">=</span> <span class="st">"BRCAPRO"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Your model has 3 cancers - Breast, Ovarian, Contralateral and 2 genes - BRCA1_hetero_anyPV, BRCA2_hetero_anyPV.</span>
<span class="r-in"><span><span class="va">brcadb2</span> <span class="op">&lt;-</span> <span class="fu">buildDatabase</span><span class="op">(</span>genes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BRCA1"</span>, <span class="st">"BRCA2"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                         cancers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Breast"</span>, <span class="st">"Ovarian"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Your model has 2 cancers - Breast, Ovarian and 2 genes - BRCA1_hetero_anyPV, BRCA2_hetero_anyPV.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">brcadb1</span>, <span class="va">brcadb2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> brcadb1 and brcadb2 are not equal:</span>
<span class="r-err co"><span class="r-pr">#&gt;</span>   Component "penet": Component "penet_cbc": Modes: numeric, NULL</span>
<span class="r-err co"><span class="r-pr">#&gt;</span>   Component "penet": Component "penet_cbc": Lengths: 70688, 0</span>
<span class="r-err co"><span class="r-pr">#&gt;</span>   Component "penet": Component "penet_cbc": Attributes: &lt; Modes: list, NULL &gt;</span>
<span class="r-err co"><span class="r-pr">#&gt;</span>   ....</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by BayesMendel Lab, Theo Huang, Gavin Lee, Jane Liang, Tom Madsen, Qing Zhang.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

