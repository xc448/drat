<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate and format carrier probabilities and future risks — PanelPROCalc • PanelPRO</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate and format carrier probabilities and future risks — PanelPROCalc"><meta property="og:description" content="Estimates the posterior carrier probabilities using the peeling-paring
algorithm and calculates future risk predictions for the proband(s). If
missing ages were imputed, the average and range of the results from these
imputations are reported."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PanelPRO</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/building-pedigrees.html">Building PanelPRO Pedigrees</a>
    </li>
    <li>
      <a href="../articles/rcpp-functions.html">Rcpp Functions</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate and format carrier probabilities and future risks</h1>
    
    <div class="hidden name"><code>PanelPROCalc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Estimates the posterior carrier probabilities using the peeling-paring
algorithm and calculates future risk predictions for the proband(s). If
missing ages were imputed, the average and range of the results from these
imputations are reported.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PanelPROCalc</span><span class="op">(</span></span>
<span>  <span class="va">ped</span>,</span>
<span>  <span class="va">lm</span>,</span>
<span>  <span class="va">db</span>,</span>
<span>  <span class="va">proband</span>,</span>
<span>  ifmod <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  net <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  age.by <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  max.mut <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rr.bcrat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rr.pop <span class="op">=</span> <span class="va">rr.ref</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ped</dt>
<dd><p>A checked pedigree data frame returned by <code><a href="checkFam.html">checkFam</a></code>.</p></dd>


<dt>lm</dt>
<dd><p>A list of imputed ages returned by <code><a href="checkFam.html">checkFam</a></code>.</p></dd>


<dt>db</dt>
<dd><p>A model-specific database returned by <code><a href="buildDatabase.html">buildDatabase</a></code>.</p></dd>


<dt>proband</dt>
<dd><p>A numeric value or vector of the unique IDs in <code>ped</code>
corresponding to the proband(s).</p></dd>


<dt>ifmod</dt>
<dd><p>A logical value indicating if cancer penetrance risk modifiers
should be considered. The default is <code>FALSE</code>.</p></dd>


<dt>net</dt>
<dd><p>A logical value indicating whether to return net or crude future
risk estimates. The default is <code>FALSE</code>, in which case crude future risk
estimates will be returned.</p></dd>


<dt>age.by</dt>
<dd><p>The fixed age interval for the future risk calculation. The
default is <code>5</code>, in which case if the proband's current age is 30, risk
predictions will be calculated at ages 35, 40, 45, etc.</p></dd>


<dt>max.mut</dt>
<dd><p>The maximum number of simultaneous mutations allowed. The
default is <code>2</code>.</p></dd>


<dt>debug</dt>
<dd><p>A logical value indicating whether to debug using browsers and
sequential imputation. The default is <code>FALSE</code>.</p></dd>


<dt>rr.bcrat</dt>
<dd><p>A data frame with 3 columns: the IDs of the probands (<code>ID</code>),
the probands' BCRAT relative risks for age &lt; 50 (<code>rr1</code>), and the probands'
BCRAT relative risks for age &gt;= 50 (<code>rr2</code>). When <code>net = FALSE</code> and breast
cancer is included in the model, these values will modify the future risk
calculation. The default is <code>NULL</code>, in which case the BCRAT relative risks
will not be incorporated.</p></dd>


<dt>rr.pop</dt>
<dd><p>A data frame of race-specific for estimates of 1 /
(1 - population attributable risk). The default is <code>rr.ref</code>,
which was estimated from NHIS 2015.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with two components:</p><ul><li><p><code>posterior.prob</code>: A list where each element corresponds to a proband in
<code>proband</code> and consists of a data frame of posterior carrier probabilities.
There are three columns: <code>estimate</code> (the estimate if no ages were imputed,
or the estimate averaged over all age imputations), <code>lower</code> (<code>NA</code> if no ages
were imputed, or the minimum result for all age imputations), and <code>upper</code>
(<code>NA</code> if no ages were imputed, or the maximum result for all age
imputations). The rows correspond to the different genotypes. If no genes
were in the model specification, each proband's data frame of carrier
probabilities is replaced by the message
<code>"No carrier probabilities were requested by the model specification."</code>
If ages were imputed, <code>ImputeRange</code> messages giving the lower and upper
bounds for the probability of carrying any pathogenic variant will be
printed for each proband.
A <code>ZeroProb</code> warning is raised if one or more of the estimated
probabilities is <code>0</code> (or <code>1</code>), germline testing results were incorporated,
and default sensitivities/specifities of <code>1</code> were used.</p></li>
<li><p><code>future.risk</code>: A list where each element corresponds to a proband in
<code>proband</code> and consists of a list of data frames of future risk estimates at
fixed intervals for each cancer in the model. Each data frame has three
columns: <code>estimate</code> (the estimate if no ages were imputed, or the estimate
averaged over all age imputations), <code>lower</code> (<code>NA</code> if no ages were imputed,
or the minimum result for all age imputations), and <code>upper</code> (<code>NA</code> if no
ages were imputed, or the maximum result for all age imputations). Each row
corresponds to the risk estimate for at a different age, e.g. 35, 40, 45,
etc. when <code>age.by = 5</code> for a proband whose current age is 30. If no cancers
were in the model specification, each proband's list of future risk
estimates is replaced by the message
<code>"No future risk estimates were requested by the model specification."</code></p></li>
</ul></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by BayesMendel Lab, Theo Huang, Gavin Lee, Jane Liang, Tom Madsen, Qing Zhang.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

